$('#comment_form').remove();
<% if params[:new_comment] %>
  $('#new_answer_link').remove();
  $('#comments').after("<%= escape_javascript(render 'form') %>");
<% else %>
  $('#comment_<%= params[:parent_id] %>').after("<%= escape_javascript(render 'form') %>");
  if ($('#new_answer_link').length === 0) {
    $('#comments').after('<%= link_to "Nouvelle rÃ©ponse", new_article_comment_path(@article, :new_comment => true), :remote => true, :id => "new_answer_link" %>');
  }
<% end %>